import fs from"fs";import path from"path";import{fileURLToPath}from"url";import{execSync}from"child_process";const __filename=fileURLToPath(import.meta.url),__dirname=path.dirname(__filename),projectName=process.argv[2]||"vrt-app",targetDir=path.join(process.cwd(),projectName);if(fs.existsSync(targetDir)){console.error(`Directory ${projectName} already exists`);process.exit(1)}const templateDir=path.join(__dirname,"template");fs.mkdirSync(targetDir,{recursive:!0});function copyDir(src,dest){fs.mkdirSync(dest,{recursive:!0});const files=fs.readdirSync(src);files.forEach((file)=>{const srcPath=path.join(src,file),destPath=path.join(dest,file);fs.statSync(srcPath).isDirectory()?copyDir(srcPath,destPath):fs.copyFileSync(srcPath,destPath)})}copyDir(templateDir,targetDir);process.chdir(targetDir);console.log(`\nCreating project in ${targetDir}\n`);try{console.log("Installing dependencies...\n");execSync("npm install",{stdio:"inherit"});console.log(`\nProject created successfully!\n`);console.log(`To start developing:\n`);console.log(`  cd ${projectName}`);console.log(`  npm run dev\n`)}catch(error){console.error("Failed to install dependencies",error);process.exit(1)}
